# 1.背景
- 「より新しい次元の平等」を考えたい
- 「差別・平等に関する報道」と、「報道に関する差別・平等」
- 情報化が進み、計算技術の発達した今こそ、「端的な客観性」に再び挑むときではないか

# 2.先行研究
- 単語ベクトルによる「意味の代数演算」(word2vec)
- こちらの先行研究は、単語にベクトルを割り当てていて、「$\vec{王}-\vec{男}+\vec{女}≃\vec{女王}$」のような「単語の意味の計算」ができたりするよ、というもの
- 文の意味や、文章の意味は表現できない
- 2，3つの単語が集まって1つの意味を持つような場合を表現できない
- これに対して、本稿で提案するアイデアでは、「**単語に行列を、意味にベクトルを対応させる**」ことで、複数語や文に対する意味を「計算」出来るかもしれない。

# 3.提案
## 3-1. 単語は行列、意味はベクトル
今、単語と意味の関係を述べてみよう。

- 一つの単語が意味を持つことがある
- 複数の単語が集まって意味を成すことがある

これは、一つ以上の単語から意味への写像$f$が存在することを予感させる。
$$f:単語^n\rightarrow意味$$
一方、ある$m$次元定ベクトルに$m$次正方行列を一つ以上掛け算するとベクトルが得られるという線形演算は、次のような写像$g$で表現できる。
$$g:行列^n\rightarrowベクトル$$

写像$f$と$g$は、どちらも「ある概念(単語／行列)を任意個集めたものを(何らかの処理)すると、別の概念(意味／ベクトル)になる」という構造をしている。このことから、「単語を行列として表現すれば、意味をベクトルとして表現できるのではないか」と考えた。
具体的に言おう。
単語を行列と置き、隣り合う単語同士の行列積を考えれば、
定ベクトルに対して単語をいくつだけ掛け算しようとも、そうして得られるものは常にベクトルであるはずだ。
そういったベクトルを「意味を表現しているベクトル」とみることを考えたいのである。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/86dfe384-ba2c-7363-7a2c-5df30805767b.png)
図3-1-1. 単語行列／意味ベクトルのイメージ図

そしてこの「意味のベクトル表現」が「元の単語群の持つ意味」を表現するように「単語行列」の各成分を調節し続ける
―そんな学習モデルを提案する所存である。

## 3-2. 学習は意見文で
3-1節で述べたモデルを教師あり学習で学習させる場合は、出力される意味ベクトルに対して「正解」を与える必要がある。
即ち「各単語を表現する最適な行列」を機械に探索させるためには、出力すべき「意味を表現する最適なベクトル」を予め知っている必要がある。このようなベクトルを予め用意するためのアイデアとして、筆者は「学習は意見文で」という方針を考えた。
(但し意見文は一つの文ではなく、寧ろ文が複数集まった文**章**なので、今後は意見文ではなく意見文**章**と呼ぶことにする)
結論を先に言うと、この方針は「**意見文章中の各文に対応する教師データとしては、『意見に対応するone-hotベクトル』を用いるとよいだろう**」というものである。

この方針を、具体例を出して説明しよう。
日本では「『きのこの山』と『たけのこの里』ではどちらが人気か」が全国的な話題・議論・論争となっている。
「きのこの山」派と「たけのこの里」派のどちらか一方の派閥を支える人たちに、
それぞれ「なぜあなたはその派閥を支持するか」について意見文を書いてもらったとする。
例えば次のようなもの。

> 私はきのこの山派を応援します。･･･①
なぜなら、きのこの山はたけのこの里よりもチョコが多いからです。･･･②
なるほど、たけのこの里にはクッキーが使われていて、きのこの山で使われているクラッカーよりも糖度が高く、チョコとの一体感が楽しめるという反論もあるかもしれません。･･･③
しかし、きのこの山もたけのこの里も、どちらも商品表示は「チョコレート菓子」となっています。･･･④
チョコレート菓子である以上、チョコレートの多さで勝負を決するのが自然ではないでしょうか。･･･⑤
よって私は、きのこの山派の肩を持ちます。･･･⑥

この意見文章全体は、きのこの山派にとって肯定的な(また、たけのこの里派にとって否定的な)意味を有している。
では意見文章を構成している各文はどうだろう。
文①～⑥の特徴を、表3-2-1の通り整理してみた。

表3-2-1. 例示した文章を構成する各文の特徴

番号|「きのこの山」派にとって|事実/意見|文章内での役割
:-:|:-:|:-:|:-:
①|肯定的|意見|主張
②|肯定的|事実|根拠
③|否定的|事実|反論
④|2重否定的≒肯定的|事実|再反論
⑤|2重否定的≒肯定的|意見|再反論
⑥|肯定的|意見|結論 

いかがだろうか、6つある文のうち5つの文は全体と同じくきのこの山派にとって肯定的な意味を有している。
このことから、「意見文章から文を1つ無作為に取り出してきたとき、『その文が意見文章全体が支えている意見に対して肯定的である確率』は十分高い」という仮説をおけるだろう。

従って、**意見文章を構成している各文に対する教師データ(出力すべき意味ベクトル)は、意見に対応させればよい**だろう。

そして「意見に対応するベクトル」は次のように定義する。
「対立する意見を意味ベクトルで表現したとき、それらは互いに直交している」

つまり、きのこの山派に肯定的な意味ベクトルを$(1　0)$とする意味ベクトル系では、たけのこの里派に肯定的な意味ベクトルは$(0　1)$と書けるべきであると考えるのだ。
なぜたけのこの里派のベクトルを$(-1　0)$とは考えないか。それには次のような理由がある。

1. 「互いに反対向きのベクトル同士の関係」は2つのベクトルの間にしかしか成立しえない。そのため相容れない意見が3つ以上存在するとき、互いを相手の「反対向き」と考える手法が適用できない。


2. 相容れない2つの意見$A,B$を「よいとこどり」した新しい意見${\rm BOBW}(A,B)$と、「悪いとこどり」した新しい意見${\rm WOBW}(A,B)$が、常に相いれないとは限らない。


3. 相容れない意見同士は互いに線形独立であった方が分かりやすい。

理由1について具体的に考えるため、きのこの山派が$(1,0)$で、たけのこの里派が$(-1,0)$としよう。
今、第3派閥「笹の村派」が参入したとする。これをベクトルで表現しようとしたとき、「味方のマイナス1倍は敵」という考え方では適切なベクトルを見つけることができない。

理由2について具体的に考えるため、たとえ話として「来世は人がいいか馬がいいか」という議論を考えてみる。
「来世も人」派が$(1　0)$で、「来世は馬」派が$(-1　0)$としよう。
今、両派閥の良いとこどりをした「ケンタウルス」派と、「ケンタウルス」に採用されなかった特徴を合成した「逆ケンタウルス」を考えてみよう。

表3-2-2. 人と馬およびそれらの合成
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/47cd3893-4030-574f-cb08-30160b9989a6.png)
ケンタウルスや逆ケンタウルスは人($1\angle 0^\circ$)と馬($1\angle 180^\circ = 1\angle -180^\circ$)の中間的な概念なので、そのベクトルとしては$1\angle \pm90^\circ = (0　\pm1)$が妥当だろう。
故にケンタウルスの意味ベクトルと逆ケンタウルスの意味ベクトルは互いに反対向きであることになるが、この2つが「対立している」とは言い難い。ケンタウルス派を推す人は多くいたとしても、逆ケンタウルス派を推す人はそう多くいないだろう。
故に、「対立する意見を互いに反対向き」と考えると、合成案を2つ提案したとき「反対向きなのに対立しない意見」が生じてしまい、自己矛盾に陥るのである。

理由1や2は「対立する意見を反対向きのベクトルで表現すべきでない理由」として適切ではあっても、
「対立する意見を直交するベクトルで表現すべき根拠」にはなっていない。
この根拠となるのが理由3である。
対立する意見、すなわち相容れない意見というのは、「片方の意見からどのように論理展開してももう片方の意見と一致することができない」という関係にある。
今、**論理展開を線形演算**(ベクトルのスカラ倍および加減算の有限回の繰り返し)**で表現できるという仮説**を置く。
この仮説下では、両者はまさに線形独立な関係にある。
「片方の意見からどのように論理展開してももう片方の意見と一致することができない」という文に対し、

- 意見→ベクトル
- 論理展開→線形演算

と置き換えれば
「片方のベクトルからどのように線形演算してももう片方のベクトルと一致することができない」と、線形独立の定義文そのものが得られるからだ。

以上の論理展開を、論理回路で表現すると図3-2-1のようになる。(LED部分が最終的な結論であり、仮説等が妥当であるとき、スイッチが短絡され、LEDが点灯(＝結論が正しい)する)
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/9fc94250-ab4b-fbc4-6400-3f18500f7fd8.png)
図3-2-1. 論理回路で表現する論理展開


<!--

名称|長所|短所|イメージ|ベクトル
:-:|:-:|:-:|:-:|:-:
人|言語が得意|足が遅い|![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/2e8b5b57-1ae9-d6b3-0cfd-ec413d7be0b1.png)|$(1　0)$
馬|足が速い|言語が不得意|![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/e6bcaaf8-3a08-66f8-ff40-ddc37485ff08.png)|$(-1　0)$
ケンタウルス|言語が得意で、足も速い|-|![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/ba67622b-2f58-cde8-a15a-0719bfebe36b.png)|$(0　1)$|
逆ケンタウルス|-|言語が不得意で、足も遅い|![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/d102f367-9e03-96c5-f5dc-6d32bf452b09.png)|$(0　-1)$

-->



# 4.実験

- 3章で提案したアイデアを検証するため、学習用プログラムを作成した。
クラス図は次の通り。
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/319477/b4ed48f3-c65b-795e-2823-0f3d1312f3fa.png)

- コードおよび手順は[github](https://github.com/17ec084/wordmatrix)に示した。
- どなたかやってみてほしいです。結果についても教えてくれたらとてもうれしいです。

